(this["webpackJsonpflash-cards"]=this["webpackJsonpflash-cards"]||[]).push([[0],{25:function(e,t,r){e.exports={modal__container:"PacksContainer_modal__container__3_tVg",button__container:"PacksContainer_button__container__pnIW-",close__btn:"PacksContainer_close__btn__HGhu9"}},33:function(e,t,r){e.exports={formField:"SuperInputText_formField__2Mpgl"}},34:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__QGvED",check:"SuperCheckbox_check__1yPi_",spanClassName:"SuperCheckbox_spanClassName__Q-gso"}},38:function(e,t,r){e.exports={btn:"SuperButton_btn__23Mcy"}},53:function(e,t,r){e.exports={error:"Error_error__1izbF"}},59:function(e,t,r){e.exports={SearchData__container:"SearchData_SearchData__container__2kVos"}},60:function(e,t,r){e.exports={mainContainer:"Main_mainContainer__1Du-L"}},69:function(e,t,r){},91:function(e,t,r){},93:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r.n(a),s=r(29),i=r.n(s),o=(r(69),r(9)),u=r(10),d=r(3),l=r.n(d),j=r(6),b=r(2),p=r(7),f=r(27),O=r(33),h=r.n(O),m=function(e){e.type;var t=e.onChange,r=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,i=(e.className,e.spanClassName,e.placeholder),o=Object(f.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","placeholder"]),u="".concat(s?h.a.formFieldError:h.a.formField);return Object(n.jsx)("div",{className:h.a.formGroup,children:Object(n.jsx)("input",Object(p.a)({id:"lineInput",placeholder:i,type:"text",onChange:function(e){t&&t(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&c&&c()},className:u},o))})},x=r(38),g=r.n(x),v=function(e){var t=e.red,r=e.className,a=Object(f.a)(e,["red","className"]),c="".concat(r," ").concat(t?g.a.red:g.a.btn);return Object(n.jsx)("button",Object(p.a)({className:c},a))},k=r(34),_=r.n(k),E=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,a=e.className,c=(e.spanClassName,e.children),s=Object(f.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),i="".concat(_.a.checkbox," ").concat(a||"");return Object(n.jsxs)("label",{className:i,children:[Object(n.jsx)("input",Object(p.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)}},s)),Object(n.jsx)("span",{className:_.a.check}),c&&Object(n.jsx)("span",{className:_.a.spanClassName,children:c})]})};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var w=a.createElement("g",{transform:"translate(80,50)"},a.createElement("g",{transform:"rotate(0)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:1},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})))),y=a.createElement("g",{transform:"translate(71.21320343559643,71.21320343559643)"},a.createElement("g",{transform:"rotate(45)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.875},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})))),P=a.createElement("g",{transform:"translate(50,80)"},a.createElement("g",{transform:"rotate(90)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.75},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})))),D=a.createElement("g",{transform:"translate(28.786796564403577,71.21320343559643)"},a.createElement("g",{transform:"rotate(135)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.625},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})))),R=a.createElement("g",{transform:"translate(20,50.00000000000001)"},a.createElement("g",{transform:"rotate(180)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.5},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})))),T=a.createElement("g",{transform:"translate(28.78679656440357,28.786796564403577)"},a.createElement("g",{transform:"rotate(225)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.375},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})))),A=a.createElement("g",{transform:"translate(49.99999999999999,20)"},a.createElement("g",{transform:"rotate(270)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.25},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})))),N=a.createElement("g",{transform:"translate(71.21320343559643,28.78679656440357)"},a.createElement("g",{transform:"rotate(315)"},a.createElement("circle",{cx:0,cy:0,r:6,fill:"#f9c80e",fillOpacity:.125},a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),a.createElement("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"}))));function I(e,t){var r=e.title,n=e.titleId,c=C(e,["title","titleId"]);return a.createElement("svg",S({style:{margin:"auto",background:"rgb(36, 23, 52) none repeat scroll 0% 0%",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,w,y,P,D,R,T,A,N)}var M,F=a.forwardRef(I),L=(r.p,r(53)),G=r.n(L),U=function(e){var t=e.textError;return Object(n.jsx)("div",{className:G.a.error,children:t})},H=c.a.memo((function(e){var t=e.formik,r=e.error;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{style:{marginTop:"20px"},onSubmit:t.handleSubmit,children:[t.isSubmitting?Object(n.jsx)(F,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(n.jsx)(m,Object(b.a)({id:"email",type:"email"},t.getFieldProps("email"))),t.errors.email&&Object(n.jsx)(U,{textError:t.errors.email}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)(m,Object(b.a)({id:"password",type:"password"},t.getFieldProps("password"))),t.errors.password&&Object(n.jsx)(U,{textError:t.errors.password}),r&&Object(n.jsx)(U,{textError:r}),Object(n.jsx)(E,Object(b.a)(Object(b.a)({id:"rememberMe"},t.getFieldProps("rememberMe")),{},{children:"Remember Me"}))]}),Object(n.jsx)(v,{type:"submit",disabled:!t.isValid||t.isSubmitting,children:"Login"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(o.b,{style:{marginRight:"60px"},to:It.REGISTRATION,children:"Registration"}),Object(n.jsx)(o.b,{to:It.PASSWORD_RECOVERY,children:"Password recovery"})]})]})})),K=c.a.memo(H,(function(e,t){return e.formik.values===t.formik.values&&e.formik.errors===t.formik.errors})),V=r(19),W=r(4),q=r(8),B=r.n(q),Y=r(12),Q=r(57),X=r.n(Q).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),Z={login:function(){var e=Object(Y.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(Y.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("auth/me");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me:function(){var e=Object(Y.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};!function(e){e.SET_USER="SET_USER",e.IS_LOGGED_IN="IS_LOGGED_IN",e.SET_ERROR="SET_ERROR",e.SET_PENDING="SET_PENDING",e.SET_USER_ID="SET_USER_ID"}(M||(M={}));var z,$={name:"",email:"",userID:"",isLoggedIn:"",error:"",pending:!1},J=function(e,t){return{type:M.SET_USER,email:t,name:e}},ee=function(e){return{type:M.IS_LOGGED_IN,isLoggedIn:e}},te=function(e){return{type:M.SET_ERROR,error:e}},re=function(e){return{type:M.SET_PENDING,pending:e}},ne=function(e){return{type:M.SET_USER_ID,userID:e}},ae=function(e,t){var r=e.response?e.response.data.error:e.message+", more details in the console";t(te(r))},ce=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.login(e);case 3:n=t.sent,r(ee("logged")),r(J(n.name,n.email)),r(ne(n._id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ae(t.t0,r);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},se=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.logout();case 3:t(ee("notLogged")),t(J("","")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ae(e.t0,t);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(re(!0)),e.next=4,Z.me();case 4:r=e.sent,t(ee("logged")),t(J(r.name,r.email)),t(re(!1)),t(ne(r._id)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),t(ee("notLogged")),t(re(!1)),ae(e.t0,t);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(){var e=Object(W.c)((function(e){return e.login.isLoggedIn})),t=Object(W.c)((function(e){return e.login.error})),r=Object(W.b)();Object(a.useEffect)((function(){if(t)return function(){r(te(""))}}),[t,r]);var c=Object(V.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(ce(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return"logged"===e?Object(n.jsx)(u.a,{to:It.PROFILE}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(K,{formik:c,error:t})})},ue=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(oe,{})})},de=function(){return Object(n.jsx)("div",{children:"Page 404 not found"})},le=c.a.memo((function(e){var t=e.formik,r=e.serverErrors;return console.log("render"),Object(n.jsx)("div",{children:Object(n.jsx)("form",{onSubmit:t.handleSubmit,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(n.jsx)(m,Object(b.a)({id:"email"},t.getFieldProps("email"))),t.errors.email&&Object(n.jsx)(U,{textError:t.errors.email}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)(m,Object(b.a)({id:"password"},t.getFieldProps("password"))),t.errors.password&&Object(n.jsx)(U,{textError:t.errors.password}),Object(n.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(n.jsx)(m,Object(b.a)({id:"confirmPassword"},t.getFieldProps("confirmPassword"))),t.errors.confirmPassword&&Object(n.jsx)(U,{textError:t.errors.confirmPassword}),Object(n.jsx)(v,{children:"submit",disabled:!(t.isValid&&t.dirty)||t.isSubmitting}),r&&Object(n.jsx)(U,{textError:r})]})})})}),(function(e,t){return e.formik.values===t.formik.values&&e.formik.errors===t.formik.errors&&e.formik.isSubmitting===t.formik.isSubmitting})),je={setRegister:function(){var e=Object(Y.a)(B.a.mark((function e(t,r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("auth/register",{email:t,password:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()};!function(e){e.IS_REGISTER="IS_REGISTER",e.SET_ERROR="SET_ERROR"}(z||(z={}));var be,pe={isSuccessRegister:!1,error:""},fe=function(e){return{type:z.IS_REGISTER,isSuccessRegister:e}},Oe=function(e){return{type:z.SET_ERROR,message:e}},he=function(e,t){return function(){var r=Object(Y.a)(B.a.mark((function r(n){return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,je.setRegister(e,t);case 3:n(fe(!0)),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),n(Oe(r.t0.response.data.error));case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},me=function(){var e=Object(W.c)((function(e){return e.registration.isSuccessRegister})),t=Object(W.c)((function(e){return e.registration.error})),r=Object(W.b)();Object(a.useEffect)((function(){if(e)return function(){r(fe(!1)),r(Oe(""))}}),[e,r]);var c=Object(V.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<=7&&(t.password="Password must be more than 7 characters"):t.password="Password is required",e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Confirm password is required",t},onSubmit:function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,a=t.email,e.next=3,r(he(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return e?Object(n.jsx)(u.a,{to:"/login"}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(le,{serverErrors:t,formik:c})})},xe=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(me,{})})},ge=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(m,{placeholder:"First Name"}),Object(n.jsx)(m,{placeholder:"Last Name"}),Object(n.jsx)(m,{placeholder:"Email"}),Object(n.jsx)(m,{placeholder:"Password"}),Object(n.jsx)(v,{children:"Log in"}),Object(n.jsx)(E,{children:"Remember Me"})]})},ve=r(21),ke=function(e){var t=e.name,r=e.email,a=e.logout,c=e.error,s=e.pending;return Object(n.jsxs)("div",{children:[s?Object(n.jsx)(F,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Profile"}),c&&Object(n.jsx)(U,{textError:c}),Object(n.jsxs)("span",{style:{marginRight:"20px"},children:["Name: ",t]}),Object(n.jsxs)("span",{style:{marginRight:"20px"},children:["Email: ",r]})]}),Object(n.jsx)(v,{onClick:a,children:"Log out",disabled:s})]})},_e=function(){var e=Object(W.c)((function(e){return e.login.name})),t=Object(W.c)((function(e){return e.login.email})),r=Object(W.c)((function(e){return e.login.isLoggedIn})),c=Object(W.c)((function(e){return e.registration.error})),s=Object(W.c)((function(e){return e.login.pending})),i=Object(W.b)(),o=Object(a.useState)(!1),d=Object(ve.a)(o,2),b=d[0],p=d[1];Object(a.useEffect)((function(){e||i(ie())}),[i,e]);var f=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,i(se());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?Object(n.jsx)(F,{}):Object(n.jsx)(n.Fragment,{children:"notLogged"===r?Object(n.jsx)(u.a,{to:It.LOGIN}):Object(n.jsx)(ke,{name:e,email:t,logout:f,error:c,pending:b})})},Ee=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(_e,{})})},Se=r(63),Ce={recovery:function(){var e=Object(Y.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/auth/forgot",{email:t,from:"mymailtolaaa@gmail.com",message:(n="$token$",'<div style="background-color: #00ff00; padding: 15px"><a href=https://melivaro.github.io/flash-cards/#/set-new-password/'.concat(n,">\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f</a></div>"))});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()},we={updatePass:function(){var e=Object(Y.a)(B.a.mark((function e(t,r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("/auth/set-new-password",{password:t,resetPasswordToken:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()};!function(e){e.UPDATE_RESULT="UPDATE_RESULT",e.SET_PASS="SET_PASS",e.UPDATED_PASS="UPDATED_PASS"}(be||(be={}));var ye,Pe={result:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password:"",passIsUpdated:!1},De=function(e){return{type:be.UPDATE_RESULT,result:e}},Re=function(e){return{type:be.UPDATED_PASS,status:e}},Te=function(e,t){return function(){var r=Object(Y.a)(B.a.mark((function r(n){var a;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,we.updatePass(e,t);case 3:a=r.sent,n(De(a.info)),n(Re(!0)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(De(r.t0.data.error));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()};!function(e){e.CHANGE_PASS="CHANGE_PASS",e.SEND_EMAIL="SEND_EMAIL"}(ye||(ye={}));var Ae,Ne={inputText:"",result:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 \u0434\u043b\u044f \u0432\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f"},Ie=function(e){return{type:ye.CHANGE_PASS,text:e}},Me=function(e){return{type:ye.SEND_EMAIL,result:e}},Fe=function(e){return function(){var t=Object(Y.a)(B.a.mark((function t(r){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.recovery(e);case 3:n=t.sent,r(Me(n.info)),r(Re(!0)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(Me(t.t0.response.data.error));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Le=function(e){var t=e.pending,r=e.result,a=e.inputText,c=e.inputHandler,s=e.buttonClickHandler;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(n.jsx)("p",{children:r}),Object(n.jsxs)("div",{children:[t?Object(n.jsx)(F,{}):Object(n.jsx)(m,{value:a,onChange:c}),Object(n.jsx)(v,{onClick:s,disabled:t,children:"Send"})]})]})},Ge=function(){var e=Object(W.c)((function(e){return e.passRecovery.result})),t=Object(W.c)((function(e){return e.passRecovery.inputText})),r=Object(W.b)(),c=Object(a.useState)(!1),s=Object(Se.a)(c,2),i=s[0],o=s[1],u=function(){var e=Object(Y.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,r(Fe(t));case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Le,{pending:i,inputText:t,result:e,inputHandler:function(e){r(Ie(e.currentTarget.value))},buttonClickHandler:u})},Ue=function(){return Object(n.jsx)(Ge,{})},He=function(e){var t=e.resultData,r=e.formik;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:r.handleSubmit,children:[r.isSubmitting?Object(n.jsx)(F,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:t}),Object(n.jsx)(m,Object(p.a)({placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"},r.getFieldProps("password"))),r.errors.password&&Object(n.jsx)(U,{textError:r.errors.password}),Object(n.jsx)(m,Object(p.a)({placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0432\u0432\u043e\u0434 \u043f\u0430\u0440\u043e\u043b\u044f"},r.getFieldProps("confirmPassword"))),r.errors.confirmPassword&&Object(n.jsx)(U,{textError:r.errors.confirmPassword})]}),Object(n.jsx)(v,{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",type:"submit",disabled:!(r.isValid&&r.dirty)||r.isSubmitting})]})})},Ke=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.updatePass.result})),r=Object(W.c)((function(e){return e.updatePass.passIsUpdated})),c=Object(u.g)().token,s=Object(V.a)({initialValues:{password:"",confirmPassword:""},validate:function(e){var t=e.password,r=e.confirmPassword,n={};return t||(n.password="Password is required"),r||(n.password="Password is required"),t.length<8&&(n.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0432\u043e\u0441\u044c\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),r.length<8&&(n.confirmPassword="\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0432\u043e\u0441\u044c\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),n},onSubmit:function(t){var r=t.password,n=t.confirmPassword;e(r===n?Te(r,c):De("\u041f\u043e\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!"))}}),i=Object(a.useMemo)((function(){return Object(n.jsx)(He,{resultData:t,formik:s})}),[s.values,t]);return r?Object(n.jsx)(u.a,{to:It.LOGIN}):Object(n.jsx)(n.Fragment,{children:i})},Ve=function(){return Object(n.jsx)(Ke,{})},We={getPacks:function(){var e=Object(j.a)(l.a.mark((function e(t,r,n,a,c,s,i){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("cards/pack?"+(t.length>0?"packName=".concat(t,"&"):"")+(n?"min=".concat(r,"&max=").concat(n,"&"):"")+(a?"page=".concat(a,"&pageCount=").concat(c,"&"):"")+(s?"sortPacks=".concat(s,"&"):"")+(i?"user_id=".concat(i,"&"):""));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c,s,i){return e.apply(this,arguments)}}(),createPack:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("cards/pack",{cardsPack:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deletePack:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("cards/pack?id=".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePack:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.put("cards/pack",{cardsPack:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe={packs:[],settings:{page:1,pageCount:4,packTotalCount:0,min:0,max:5,sortPack:"",searchName:"",userID:""},showAddModal:!1,deleteModal:{showDeleteModal:!1,packID:""},updateModal:{showUpdateModal:!1,packName:"",packID:""}};!function(e){e.FETCH_PACKS="FETCH_PACKS",e.SEARCH_PACKS="SEARCH_PACKS",e.SET_MIN_MAX_PACKS="SET_MIN_MAX",e.SORT_PACK="SORT_PRODUCT",e.GET_MY_PACK="GET_MY_PACK",e.SHOW_ADD_MODAL="SHOW_ADD_MODAL",e.SHOW_DELETE_MODAL="SHOW_DELETE_MODAL",e.SHOW_UPDATE_MODAL="UPDATE_MODAL"}(Ae||(Ae={}));var Be,Ye={setPacks:function(e,t){return{type:Ae.FETCH_PACKS,packs:e,settings:t}},searchPacks:function(e){return{type:Ae.SEARCH_PACKS,searchName:e}},setMinMaxPack:function(e,t){return{type:Ae.SET_MIN_MAX_PACKS,min:e,max:t}},sortPacks:function(e){return{type:Ae.SORT_PACK,sortedPack:e}},getMyPack:function(e){return{type:Ae.GET_MY_PACK,userID:e}},showAddModal:function(e){return{type:Ae.SHOW_ADD_MODAL,modal:e}},showDeleteModal:function(e,t){return{type:Ae.SHOW_DELETE_MODAL,modal:e,packID:t}},showUpdateModal:function(e,t){return{type:Ae.SHOW_UPDATE_MODAL,modal:e,packID:t}}},Qe={fetchPacks:function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(n,a){var c,s,i,o,u,d,j,b,p;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=a().packs.settings,s=c.searchName,i=c.page,o=c.pageCount,u=c.min,d=c.max,j=c.sortPack,b=c.userID,r.prev=1,r.next=4,We.getPacks(s,u,d,e||i,t||o,j,b);case 4:p=r.sent,n(Ye.setPacks(p.cardPacks,{page:p.page,pageCount:p.pageCount,searchName:s,sortPack:j,userID:b,min:p.minCardsCount,max:p.maxCardsCount,packTotalCount:p.cardPacksTotalCount})),r.next=10;break;case 8:r.prev=8,r.t0=r.catch(1);case 10:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}()},createPack:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.createPack({name:e,private:!1,path:"",type:"",deckCover:"",grade:0,rating:0,shots:0});case 3:r(Ye.showAddModal(!1)),r(Qe.fetchPacks()),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deletePack:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.deletePack(e);case 3:r(Ye.showDeleteModal(!1,"")),r(Qe.fetchPacks()),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updatePack:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,We.updatePack(e);case 3:r(Ye.showUpdateModal(!1,"")),r(Qe.fetchPacks()),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},Xe=function(e){var t=e.fetchProducts,r=e.setSortProducts,c=Object(a.useState)(-1),s=Object(ve.a)(c,2),i=s[0],o=s[1],u=Object(W.b)(),d=function(e){o(e),u(r(e+"name")),u(t())};return Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{style:{background:1===i?"lime":void 0},onClick:function(){return d(1)},children:"/\\"}),Object(n.jsx)("button",{style:{background:0===i?"lime":void 0},onClick:function(){return d(0)},children:"\\/"})]})},Ze=(r(91),r(95)),ze=function(e){var t=e.data,r=e.model;return Object(n.jsx)("div",{children:Object(n.jsxs)(Ze.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(n.jsx)("thead",{children:r.renderTitle()}),Object(n.jsx)("tbody",{children:t.map(r.renderData)})]})})},$e=function(e){var t=e.packs,r=e.modelPacks;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ze,{data:t,model:r})})},Je=r(42),et=Object(b.a)(Object(b.a)({},{display:"flex"}),{},{alignItems:"center"}),tt=Object(b.a)(Object(b.a)({},et),{},{justifyContent:"center"}),rt=function(e){var t=e.step,r=e.startData,a=e.endData,c=e.rangeData,s=e.rangeDataHandler;return Object(n.jsx)(Je.Range,{values:c,step:t,min:r,max:a,onChange:function(e){s(e)},renderTrack:function(e){var t=e.props,s=e.children;return Object(n.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(b.a)(Object(b.a)({},t.style),{},{height:"36px",display:"flex",width:"50%",margin:"30px"}),children:Object(n.jsx)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(Je.getTrackBackground)({values:c,colors:["#ccc","#548BF4","#ccc"],min:r,max:a}),alignSelf:"center"},children:s})})},renderThumb:function(e){var t=e.index,r=e.props,a=e.isDragged;return Object(n.jsxs)("div",Object(b.a)(Object(b.a)({},r),{},{style:Object(b.a)(Object(b.a)(Object(b.a)({},r.style),{},{height:"12px",width:"12px",borderRadius:"1px",backgroundColor:"#FFF"},tt),{},{boxShadow:"0px 2px 6px #AAA"}),children:[Object(n.jsx)("div",{style:{position:"absolute",top:"-28px",color:"#fff",fontWeight:"bold",fontSize:"14px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"4px",borderRadius:"4px",backgroundColor:"#548BF4"},children:c[t].toFixed(0)}),Object(n.jsx)("div",{style:{height:"16px",width:"5px",backgroundColor:a?"#548BF4":"#CCC"}})]}))}})},nt=r(59),at=r.n(nt),ct=function(e){var t=e.formik,r=e.rangeData,a=e.rangeDataHandler,c=e.startData,s=e.endData,i=e.step;return Object(n.jsx)("form",{onSubmit:t.handleSubmit,children:Object(n.jsxs)("div",{className:at.a.SearchData__container,children:[Object(n.jsx)(m,Object(b.a)({placeholder:"Search"},t.getFieldProps("searchData"))),Object(n.jsx)(rt,{step:i,startData:c,endData:s,rangeData:r,rangeDataHandler:a}),Object(n.jsx)(v,{type:"submit",children:"Search"})]})})},st=function(e){var t=e.startRange,r=e.endRange,c=e.fetchData,s=e.searchValue,i=e.rangeValue,o=e.getMyData,u=Object(a.useState)([t,r]),d=Object(ve.a)(u,2),l=d[0],j=d[1],b=Object(a.useState)(!1),p=Object(ve.a)(b,2),f=p[0],O=p[1],h=Object(W.c)((function(e){return e.login.userID})),m=Object(W.b)(),x=Object(V.a)({initialValues:{searchData:""},onSubmit:function(e){m(s(e.searchData)),m(i(l[0],l[1])),c()}});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ct,{formik:x,rangeData:l,rangeDataHandler:j,startData:0,endData:10,step:1}),o&&Object(n.jsx)(E,{onChangeChecked:function(){O(!f),f?(o&&m(o("")),c()):(o&&m(o(h)),c())},checked:f,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u043e\u0438 \u0441\u0442\u043e\u043f\u043a\u0438"})]})},it=function(e){for(var t=e.page,r=e.pageCount,a=e.pageTotalCount,c=e.getPage,s=e.title,i=void 0===s?"Pagination":s,o=e.paginationStyle,u=e.buttonStyle,d=e.selectStyle,l=[],j=Math.ceil(a/r),p=function(e){l.push(Object(n.jsx)("button",{style:Object(b.a)({background:t===e?"lime":void 0},u),onClick:function(){return c(e,r)},children:e},e))},f=1;f<=j;f++)p(f);return t+4<j&&(l[t+2]=Object(n.jsx)("span",{style:u,children:"- ... -"},t+3),l=l.filter((function(e,r){return r<t+3||r===j-1}))),t>5&&(l[1]=Object(n.jsx)("span",{style:u,children:"- ... -"},2),l=l.filter((function(e,r){return r<2||r>t-4}))),Object(n.jsxs)("div",{style:Object(b.a)({margin:"0 10px",minHeight:"50px"},o),children:[i,Object(n.jsxs)("select",{value:r,onChange:function(e){return c(t,Number(e.currentTarget.value))},style:d,children:[Object(n.jsx)("option",{value:4,children:"4"}),Object(n.jsx)("option",{value:7,children:"7"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"})]}),l]})},ot=function(e){var t=e.enableBackground,r=e.backgroundStyle,a=e.backgroundOnClick,c=void 0===a?function(){}:a,s=e.width,i=e.height,o=e.modalStyle,u=e.modalOnClick,d=void 0===u?function(){}:u,l=e.show,j=e.children,p="calc(50vh - ".concat(i/2,"px)"),f="calc(50vw - ".concat(s/2,"px)");return l?(console.log("render Modal"),Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)("div",{style:Object(b.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",background:"black",opacity:.35,zIndex:20},r),onClick:c}),Object(n.jsx)("div",{style:Object(b.a)({position:"fixed",top:p,left:f,width:s,height:i,background:"#241734",zIndex:21},o),onClick:d,children:j})]})):null},ut=r(25),dt=r.n(ut),lt=function(){var e=Object(W.c)((function(e){return e.login.name})),t=Object(W.c)((function(e){return e.login.isLoggedIn})),r=Object(W.c)((function(e){return e.packs})),c=r.packs,s=r.settings,i=s.page,d=s.pageCount,l=s.packTotalCount,j=r.showAddModal,p=r.deleteModal,f=p.showDeleteModal,O=p.packID,h=r.updateModal.showUpdateModal,x=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.packs})),r=t.showAddModal,a=t.deleteModal.showDeleteModal,c=t.updateModal.showUpdateModal;return{modelPacks:{renderTitle:function(){return Object(n.jsxs)("tr",{children:[["Name","CardsCount","update","url"].map((function(e,t){return"Name"===e?Object(n.jsx)("th",{children:Object(n.jsxs)("div",{children:[e,Object(n.jsx)(Xe,{fetchProducts:Qe.fetchPacks,setSortProducts:Ye.sortPacks})]})},t):Object(n.jsx)("th",{children:e},t)})),Object(n.jsx)("th",{children:Object(n.jsx)(v,{onClick:function(){e(Ye.showAddModal(!r))},children:"ADD"})})]})},renderData:function(t,r){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:t.cardsCount}),Object(n.jsx)("td",{children:t.updated.slice(5,16)}),Object(n.jsx)("td",{children:t.deckCover}),Object(n.jsxs)("td",{children:[Object(n.jsx)(v,{onClick:function(){e(Ye.showDeleteModal(!a,t._id))},children:"del"}),Object(n.jsx)(v,{onClick:function(){e(Ye.showUpdateModal(!c,t._id))},children:"update"}),Object(n.jsx)(o.b,{to:"/cards/".concat(t._id),children:"cards"}),Object(n.jsx)(o.b,{style:{marginLeft:"20px"},to:"/learn/".concat(t._id),children:"learn"})]})]},r)}}}}().modelPacks,g=Object(W.b)();Object(a.useEffect)((function(){g(Qe.fetchPacks()),e||g(ie())}),[g,e]);var k=Object(V.a)({initialValues:{packName:""},onSubmit:function(e){var t=e.packName;g(Qe.createPack(t))},validate:function(e){var t={};return e.packName.length<1&&(t.packName="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0430\u043a\u0430"),t}}),_=Object(V.a)({initialValues:{packName:""},onSubmit:function(e){var t=e.packName;g(Qe.updatePack({name:t,_id:O}))},validate:function(e){var t={};return e.packName.length<1&&(t.packName="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0430\u043a\u0430"),t}});return"notLogged"===t?Object(n.jsx)(u.a,{to:It.LOGIN}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ot,{enableBackground:!0,backgroundOnClick:function(){g(Ye.showAddModal(!j))},width:400,height:300,show:j,children:Object(n.jsxs)("div",{className:dt.a.modal__container,children:[Object(n.jsx)(v,{onClick:function(){g(Ye.showAddModal(!j))},className:dt.a.close__btn,children:"X"}),Object(n.jsx)("h4",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043d\u043e\u0439 \u0441\u0442\u043e\u043f\u043a\u0438"}),Object(n.jsxs)("form",{onSubmit:k.handleSubmit,children:[Object(n.jsx)(m,Object(b.a)({placeholder:"Set pack name"},k.getFieldProps("packName"))),k.errors&&Object(n.jsx)(U,{textError:k.errors.packName}),Object(n.jsx)(v,{disabled:!(k.isValid&&k.dirty)||k.isSubmitting,type:"submit",children:"Add Pack"})]})]})}),Object(n.jsx)(ot,{enableBackground:!0,backgroundOnClick:function(){g(Ye.showDeleteModal(!f,""))},width:400,height:300,show:f,children:Object(n.jsxs)("div",{className:dt.a.modal__container,children:[Object(n.jsx)("h4",{children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043f\u043a\u0443?"}),Object(n.jsxs)("div",{className:dt.a.button__container,children:[Object(n.jsx)(v,{onClick:function(){g(Ye.showDeleteModal(!f,""))},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(n.jsx)(v,{onClick:function(){return g(Qe.deletePack(O))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043a"})]})]})}),Object(n.jsx)(ot,{enableBackground:!0,backgroundOnClick:function(){g(Ye.showUpdateModal(!h,""))},width:400,height:300,show:h,children:Object(n.jsxs)("div",{className:dt.a.modal__container,children:[Object(n.jsx)(v,{onClick:function(){g(Ye.showUpdateModal(!h,""))},className:dt.a.close__btn,children:"X"}),Object(n.jsx)("h4",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(n.jsxs)("form",{onSubmit:_.handleSubmit,children:[Object(n.jsx)(m,Object(b.a)({placeholder:"Set pack name"},_.getFieldProps("packName"))),_.errors&&Object(n.jsx)(U,{textError:_.errors.packName}),Object(n.jsx)(v,{disabled:!(_.isValid&&_.dirty)||_.isSubmitting,type:"submit",children:"Update"})]})]})}),Object(n.jsx)(st,{fetchData:function(){g(Qe.fetchPacks())},startRange:0,endRange:10,searchValue:Ye.searchPacks,rangeValue:Ye.setMinMaxPack,getMyData:Ye.getMyPack}),Object(n.jsx)($e,{packs:c,modelPacks:x}),Object(n.jsx)(it,{page:i,pageCount:d,pageTotalCount:l,getPage:function(e,t){g(Qe.fetchPacks(e,t))}})]})},jt=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(lt,{})})},bt=function(e){var t=e.cards,r=e.modelCards;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ze,{data:t,model:r})})},pt={getCards:function(){var e=Object(j.a)(l.a.mark((function e(t,r,n,a,c,s,i){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("cards/card/?cardsPack_id=".concat(t,"&")+(s&&s.length>0?"cardQuestion=".concat(s,"&"):"")+(n?"min=".concat(r,"&max=").concat(n,"&"):"")+(a?"page=".concat(a,"&pageCount=").concat(c,"&"):"")+(i?"sortCards=".concat(i,"&"):""));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c,s,i){return e.apply(this,arguments)}}(),createCard:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.post("cards/card",{card:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteCard:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.delete("cards/card?id=".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateCard:function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.put("cards/card",{card:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ft=function(e){return X.put("/cards/grade",e)},Ot={cards:[],settings:{page:1,pageCount:4,cardsTotalCount:40,min:1,max:5,sortCards:"",cardQuestion:"",packUserId:""}};!function(e){e.SET_CARDS="SET_CARDS",e.SEARCH_CARDS="SEARCH_PACKS",e.SET_MIN_MAX_CARDS="SET_MIN_MAX",e.SORT_CARDS="SORT_PRODUCT",e.UPDATE_CARD_GRADE="UPDATE_CARD_GRADE"}(Be||(Be={}));var ht,mt={fetchCards:function(e,t){return{type:Be.SET_CARDS,cards:e,settings:t}},searchCards:function(e){return{type:Be.SEARCH_CARDS,cardQuestion:e}},setMinMaxCards:function(e,t){return{type:Be.SET_MIN_MAX_CARDS,min:e,max:t}},sortCards:function(e){return{type:Be.SORT_CARDS,sortedPack:e}},updateCardGrade:function(e){return{type:Be.UPDATE_CARD_GRADE,data:e}}},xt={fetchCards:function(e,t,r){return function(){var n=Object(j.a)(l.a.mark((function n(a,c){var s,i,o,u,d,j,b,p,f;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=c().cards.settings,i=s.pageCount,o=s.page,u=s.cardQuestion,d=s.sortCards,j=s.min,b=s.max,p=s.packUserId,n.prev=1,n.next=4,pt.getCards(e||p,j,b,t||o,r||i,u,d);case 4:f=n.sent,a(mt.fetchCards(f.cards,{page:f.page,pageCount:f.pageCount,cardQuestion:u,sortCards:d,min:f.minGrade,max:f.minGrade,packUserId:p,cardsTotalCount:f.cardsTotalCount})),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(1);case 10:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()},createCard:function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pt.createCard(e);case 3:n(xt.fetchCards(t)),r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},deleteCard:function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pt.deleteCard(e);case 3:n(xt.fetchCards(t)),r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},updateCard:function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pt.updateCard(e);case 3:n(xt.fetchCards(t)),r.next=8;break;case 6:r.prev=6,r.t0=r.catch(0);case 8:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},updateCardGrade:function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ft(e);case 3:n=t.sent,r(mt.updateCardGrade({updatedGrade:{grade:n.data.updatedGrade.grade,card_id:n.data.updatedGrade.card_id,shots:n.data.updatedGrade.shots}})),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},gt=function(){var e=Object(W.c)((function(e){return e.login.isLoggedIn})),t=Object(W.c)((function(e){return e.cards})),r=t.cards,c=t.settings,s=c.page,i=c.pageCount,o=c.cardsTotalCount,d=Object(u.g)().id,l=function(e){var t=Object(W.b)();return{modelCards:{renderTitle:function(){return Object(n.jsxs)("tr",{children:[["question","answer","Grade","Shots","updated","Covers"].map((function(e,t){return Object(n.jsx)("th",{children:e},t)})),Object(n.jsx)("th",{children:Object(n.jsx)(v,{onClick:function(){return t(xt.createCard({answer:"Some Answer",question:"Some question",answerImg:"",answerVideo:"",cardsPack_id:e,grade:0,rating:0,shots:0,type:"",questionImg:"",questionVideo:""},e))},children:"ADD"})})]})},renderData:function(e,r){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.question}),Object(n.jsx)("td",{children:e.answer}),Object(n.jsx)("td",{children:e.grade}),Object(n.jsx)("td",{children:e.shots}),Object(n.jsx)("td",{children:e.updated.slice(5,16)}),Object(n.jsx)("td",{children:e.questionImg}),Object(n.jsxs)("td",{children:[Object(n.jsx)(v,{onClick:function(){return t(xt.deleteCard(e._id,e.cardsPack_id))},children:"del"}),Object(n.jsx)(v,{onClick:function(){return t(xt.updateCard({_id:e._id,question:"update question",comments:"new comment"},e.cardsPack_id))},children:"update"})]})]},r)}}}}(d).modelCards,j=Object(W.b)();Object(a.useEffect)((function(){j(xt.fetchCards(d))}),[j]);if("notLogged"===e)return Object(n.jsx)(u.a,{to:It.LOGIN});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(st,{startRange:0,endRange:10,fetchData:function(){j(xt.fetchCards(d))},searchValue:mt.searchCards,rangeValue:mt.setMinMaxCards}),Object(n.jsx)(bt,{cards:r,modelCards:l}),Object(n.jsx)(it,{page:s,pageCount:i,pageTotalCount:o,getPage:function(e,t){j(xt.fetchCards(d,e,t))}})]})},vt=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(gt,{})})},kt=function(e){var t=e.handlerAddGrade;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{onClick:function(){return t(1)},children:"\u0434\u0443\u043c\u0430\u043b \u043d\u0435 \u0434\u0443\u043c\u0430\u043b"}),Object(n.jsx)(v,{onClick:function(){return t(2)},children:"\u0437\u0430\u043f\u043b\u0443\u0436\u0438\u043b"}),Object(n.jsx)(v,{onClick:function(){return t(3)},children:"\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b"}),Object(n.jsx)(v,{onClick:function(){return t(4)},children:"\u0434\u043e\u043b\u0433\u043e \u043d\u0435 \u0434\u0443\u043c\u0430\u043b"}),Object(n.jsx)(v,{onClick:function(){return t(5)},children:"\u043d\u0435 \u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b"})]})},_t=function(e){var t=e.card_id,r=Object(W.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(kt,{handlerAddGrade:function(e){r(xt.updateCardGrade({grade:e,card_id:t}))}})})},Et=function(e){var t=e.card_id;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(_t,{card_id:t})})},St=function(e){var t=e.card,r=e.nextQuestion,a=e.setChecked,c=e.isChecked;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Let's learn"}),Object(n.jsx)("span",{children:t.question}),Object(n.jsx)(v,{onClick:function(){return a(!0)},children:"Show answer"}),c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:t.answer}),Object(n.jsx)(Et,{card_id:t._id}),Object(n.jsx)(v,{onClick:function(){return r()},children:"Next question"})]})]})},Ct={cards:[],card:{},error:"",pending:!0};!function(e){e.SET_CARD="learn/SET_CARD",e.SET_CARDS="learn/SET_CARDS",e.SET_ERROR="learn/SET_ERROR",e.SET_IS_PENDING="learn/SET_IS_PENDING",e.ERASE_CARDS="learn/ERASE_CARDS"}(ht||(ht={}));var wt=function(e){return{type:ht.SET_CARD,cards:e}},yt=function(e){return{type:ht.SET_CARDS,cards:e}},Pt=function(e){return{type:ht.SET_ERROR,error:e}},Dt=function(e){return{type:ht.SET_IS_PENDING,pending:e}},Rt=function(e){return{type:ht.ERASE_CARDS,eraseArray:e}},Tt=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt.getCards(e);case 3:(n=t.sent).cards.length>0?(r(yt(n.cards)),r(wt(n.cards))):r(Pt("This pack has no cards. Please choose another one")),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",r(Pt(a));case 11:return t.prev=11,r(Dt(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})));return function(e){return t.apply(this,arguments)}}()},At=function(){var e=Object(a.useState)(!1),t=Object(ve.a)(e,2),r=t[0],c=t[1],s=Object(W.c)((function(e){return e.cards.cards})),i=Object(W.c)((function(e){return e.learn.card})),o=Object(W.c)((function(e){return e.learn.error})),d=Object(W.c)((function(e){return e.learn.pending})),l=Object(u.g)().id,j=Object(W.b)();Object(a.useEffect)((function(){return j(Tt(l)),function(){j(Rt([])),j(Pt("")),j(Dt(!0))}}),[j,l]);return d?Object(n.jsx)(F,{}):o?Object(n.jsx)(U,{textError:o}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(St,{card:i,setChecked:c,nextQuestion:function(){c(!1),j(wt(s))},isChecked:r})})},Nt=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(At,{})})},It={LOGIN:"/",REGISTRATION:"/registration",PROFILE:"/profile",PASSWORD_RECOVERY:"/password-recovery",NEW_PASSWORD_ENTRY:"/set-new-password/:token",COMPONENT_TEST_RACK:"/component-test-rack",PACKS:"/packs",CARDS:"/cards/:id",LEARN:"/learn/:id"},Mt=function(){return Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:It.LOGIN,exact:!0,render:function(){return Object(n.jsx)(ue,{})}}),Object(n.jsx)(u.b,{path:It.REGISTRATION,exact:!0,render:function(){return Object(n.jsx)(xe,{})}}),Object(n.jsx)(u.b,{path:It.PROFILE,exact:!0,render:function(){return Object(n.jsx)(Ee,{})}}),Object(n.jsx)(u.b,{path:It.PASSWORD_RECOVERY,exact:!0,render:function(){return Object(n.jsx)(Ue,{})}}),Object(n.jsx)(u.b,{path:It.NEW_PASSWORD_ENTRY,render:function(){return Object(n.jsx)(Ve,{})}}),Object(n.jsx)(u.b,{path:It.COMPONENT_TEST_RACK,exact:!0,render:function(){return Object(n.jsx)(ge,{})}}),Object(n.jsx)(u.b,{path:It.PACKS,exact:!0,render:function(){return Object(n.jsx)(jt,{})}}),Object(n.jsx)(u.b,{path:It.CARDS,render:function(){return Object(n.jsx)(vt,{})}}),Object(n.jsx)(u.b,{path:It.LEARN,render:function(){return Object(n.jsx)(Nt,{})}}),Object(n.jsx)(u.b,{path:"/404",render:function(){return Object(n.jsx)(de,{})}}),Object(n.jsx)(u.a,{from:"*",to:"/404"})]})},Ft=function(){return Object(n.jsxs)("div",{children:["Header",Object(n.jsx)(o.b,{to:It.LOGIN,children:"Login_/"}),Object(n.jsx)(o.b,{to:It.REGISTRATION,children:"Registration_/"}),Object(n.jsx)(o.b,{to:It.PROFILE,children:"Profile_/"}),Object(n.jsx)(o.b,{to:It.PASSWORD_RECOVERY,children:"Password recovery_/"}),Object(n.jsx)(o.b,{to:It.NEW_PASSWORD_ENTRY,children:"New password entry_/"}),Object(n.jsx)(o.b,{to:It.CARDS,children:"Cards_/"}),Object(n.jsx)(o.b,{to:It.COMPONENT_TEST_RACK,children:"Component test rack_/"}),Object(n.jsx)(o.b,{to:It.PACKS,children:"Packs_/"})]})},Lt=r(60),Gt=r.n(Lt),Ut=function(){return Object(n.jsxs)("div",{className:Gt.a.mainContainer,children:["Main",Object(n.jsx)(Ft,{}),Object(n.jsx)(Mt,{})]})},Ht=r(24),Kt=r(61),Vt=r(62),Wt=Object(Ht.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.SET_USER:return Object(b.a)(Object(b.a)({},e),{},{name:t.name,email:t.email});case M.IS_LOGGED_IN:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.isLoggedIn});case M.SET_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case M.SET_PENDING:return Object(b.a)(Object(b.a)({},e),{},{pending:t.pending});case M.SET_USER_ID:return Object(b.a)(Object(b.a)({},e),{},{userID:t.userID});default:return e}},profile:function(e,t){switch(t.type){case"SOME":default:return Object(p.a)({},e)}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.IS_REGISTER:return Object(p.a)(Object(p.a)({},e),{},{isSuccessRegister:t.isSuccessRegister});case z.SET_ERROR:return Object(p.a)(Object(p.a)({},e),{},{error:t.message});default:return e}},passRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.CHANGE_PASS:return Object(p.a)(Object(p.a)({},e),{},{inputText:t.text});case ye.SEND_EMAIL:return Object(p.a)(Object(p.a)({},e),{},{result:t.result,inputText:""});default:return e}},updatePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.UPDATE_RESULT:return Object(p.a)(Object(p.a)({},e),{},{result:t.result});case be.SET_PASS:return Object(p.a)(Object(p.a)({},e),{},{password:t.password});case be.UPDATED_PASS:return Object(p.a)(Object(p.a)({},e),{},{passIsUpdated:t.status});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.FETCH_PACKS:return Object(b.a)(Object(b.a)({},e),{},{packs:t.packs,settings:t.settings});case Ae.SEARCH_PACKS:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{searchName:t.searchName})});case Ae.SET_MIN_MAX_PACKS:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{min:t.min,max:t.max})});case Ae.SORT_PACK:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{sortPack:t.sortedPack})});case Ae.GET_MY_PACK:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{userID:t.userID})});case Ae.SHOW_ADD_MODAL:return Object(b.a)(Object(b.a)({},e),{},{showAddModal:t.modal});case Ae.SHOW_DELETE_MODAL:return Object(b.a)(Object(b.a)({},e),{},{deleteModal:Object(b.a)(Object(b.a)({},e.deleteModal),{},{showDeleteModal:t.modal,packID:t.packID})});case Ae.SHOW_UPDATE_MODAL:return Object(b.a)(Object(b.a)({},e),{},{updateModal:Object(b.a)(Object(b.a)({},e.updateModal),{},{showUpdateModal:t.modal}),deleteModal:Object(b.a)(Object(b.a)({},e.deleteModal),{},{packID:t.packID})});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.SET_CARDS:return Object(b.a)(Object(b.a)({},e),{},{cards:t.cards,settings:t.settings});case Be.SEARCH_CARDS:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{cardQuestion:t.cardQuestion})});case Be.SET_MIN_MAX_CARDS:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{min:t.min,max:t.max})});case Be.SORT_CARDS:return Object(b.a)(Object(b.a)({},e),{},{settings:Object(b.a)(Object(b.a)({},e.settings),{},{sortCards:t.sortedPack})});case Be.UPDATE_CARD_GRADE:return Object(b.a)(Object(b.a)({},e),{},{cards:e.cards.map((function(e){return e._id===t.data.updatedGrade.card_id?Object(b.a)(Object(b.a)({},e),{},{grade:t.data.updatedGrade.grade,shots:t.data.updatedGrade.shots}):e}))});default:return e}},learn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.SET_CARD:var r=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),r=Math.random()*t,n=e.reduce((function(e,t,n){var a=e.sum+(6-t.grade)*(6-t.grade);return{sum:a,id:a<r?n:e.id}}),{sum:0,id:-1});return e[n.id+1]};return Object(b.a)(Object(b.a)({},e),{},{card:r(t.cards)});case ht.SET_ERROR:return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case ht.SET_CARDS:return Object(b.a)(Object(b.a)({},e),{},{cards:t.cards});case ht.ERASE_CARDS:return Object(b.a)(Object(b.a)({},e),{},{cards:t.eraseArray});case ht.SET_IS_PENDING:return Object(b.a)(Object(b.a)({},e),{},{pending:t.pending});default:return e}}}),qt=Object(Ht.createStore)(Wt,Object(Vt.composeWithDevTools)(Object(Ht.applyMiddleware)(Kt.a)));window.store=qt;var Bt=function(){return Object(n.jsx)(W.a,{store:qt,children:Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)(Ut,{})})})})},Yt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,96)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(W.a,{store:qt,children:Object(n.jsx)(Bt,{})}),document.getElementById("root")),Yt()}},[[93,1,2]]]);
//# sourceMappingURL=main.0a44a47a.chunk.js.map